/*!3.8.8 MIT kooboy_li@163.com*/module.exports=function(){var t,e=require("$"),n=e.isPlainObject,r=e.isArray,i=0,o="",a=[],f=",",u=null,c=window,s=document,h=e(s),d=c.setTimeout,v="changed",l="change",$="pageunload",p="value",g="mxs",m="#",b=function(){},y=JSON.stringify,w="\x1e",x="object",k="prototype",V="params",A="path",T="mx-view",I=/[#?].*$/,S=/([^=&?\/#]+)=?([^&#?]*)/g,C=/(?!^)=|&/,N=function(t){return(t||"mx_")+i++},q=N(),H={rootId:N(),defaultView:q,error:function(t){throw t}},P=function(t){return typeof t==x?t:s.getElementById(t)},U=function(t){return!t||typeof t!=x},E=function(t,e,n){var r,i,o,a=0;for(o in t)r=t[o],i=e[o],U(r)&&i===r||(n[o]=1,a=1),e[o]=r;return a},O=function(t,e,n){if(t=P(t),e=P(e),t&&e&&!(n=t==e))try{n=16==(16&e.compareDocumentPosition(t))}catch(t){}return n},j=function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])z(e,i)&&(t[i]=e[i]);return t},L=function(t,e,n){for(n in e=[],t)z(t,n)&&e.push(n);return e},M=H.hasOwnProperty,Z=e("head"),R=function(t,e){e&&!R[t]&&(R[t]=1,Z.append("<style>"+e))},B=function(t){return t.id||(t.$a=1,t.id=N())},D=function(t,e,n,i,o){e=e||a,r(t)||(t=[t]),r(e)||(e=[e]);for(var f=0,u=t;f<u.length;f++){o=u[f];try{i=o&&o.apply(n,e)}catch(t){H.error(t)}}return i},z=function(t,e){return t&&M.call(t,e)},F=function(t,e,n){var r,i;if(!n&&U(e))(r=e+o)[0]==w&&(e=t[r]);else for(r in e)i=e[r],n&&!U(i)&&F(t,i,n),r[0]==w&&(delete e[r],r=t[r]),e[r]=(i+o)[0]==w?t[i]:i;return e},J=function(t,e){return e.f-t.f||e.t-t.t},Q=function(t,e,n,r){(r=this).c=[],r.b=e||5,r.x=r.b+(t||20),r.r=n};j(Q[k],{get:function(t){var e=this.c[w+t];return e&&(e.f++,e.t=i++,e=e.v),e},each:function(t,e,n){for(var r=0,i=(n=this).c;r<i.length;r++)t(i[r].v,e,n)},set:function(t,e){var n=this.c,r=w+t,o=n[r],a=this.b;if(!o){if(n.length>=this.x)for(n.sort(J);a--;)(o=n.pop()).f>0&&this.del(o.o);o={o:t},n.push(o),n[r]=o}o.v=e,o.f=1,o.t=i++},del:function(t){t=w+t;var e=this.c,n=e[t],r=this.r;n&&(n.f=-1,n.v=o,delete e[t],r&&D(r,n.o))},has:function(t){return z(this.c,w+t)}});var X,_,G=e.isFunction,K=function(t,e){var n=H.views||b;if(n[q]||(n[q]=X),!t)return e();r(t)||(t=[t]);for(var i,o=[],a=0,f=function(){a||e.apply(dt,o)},u=function(t,e,n){(t=t(n=function(t){o[e]||(a--,o[e]=t,f())})).then&&t.then(n)},c=0;c<t.length;c++)i=n[t[c]],G(i)&&!i.extend?(a++,u(i,c)):o[c]=n[t[c]];f()},W=function(){},Y=function(t,e,n,r,i){return W[k]=e[k],i=new W,j(i,n),j(t,r),i.constructor=t,t[k]=i,t},tt=e.find||e.zepto,et=tt.matchesSelector||tt.matches,nt=function(t,e){e=t.data,t.eventTarget=e.e,D(e.f,t,e.v)},rt=function(t,n,r,i,o){o&&(n+="."+o.i),i?e(t).off(n,r):e(t).on(n,o,r)},it=new Q,ot=0,at=function(t,e,n){try{n=decodeURIComponent(n)}catch(t){}_[e]=n},ft=function(t){var e,n=it.get(t);return n||(_={},t==(e=t.replace(I,o))&&C.test(e)&&(e=o),t.replace(e,o).replace(S,at),it.set(t,n={a:e,b:_})),{path:n.a,params:j({},n.b)}},ut=function(t,e,n){var r,i,a,f=[];for(i in e)r=e[i]+o,(!n||r||z(n,i))&&(r=encodeURIComponent(r),f.push(a=i+"="+r));return a&&(t+=(t&&(~t.indexOf("?")?"&":"?"))+f.join("&")),t},ct=function(t,e){var n,r={};if(t)for(var i=0,o=t;i<o.length;i++)n=o[i],r[e&&n?n[e]:n]=e?n:1+(0|r[n]);return r},st=new Q,ht=function(t,e,n){return st.has(t)?n=st.get(t):(n=D(Function("return "+t)),t.indexOf(w)>-1?F(e,n,1):st.set(t,n)),n},dt={config:function(t,e){return e=H,t&&(e=n(t)?j(e,t):e[t]),e},boot:function(t){j(H,t),K(H.ini,function(e){j(H,e,t),K(H.exts,function(){Rt.on(v,Jt),yt.on(v,Jt),ot=1,jt()})})},toMap:ct,toTry:D,toUrl:ut,parseUrl:ft,mix:j,has:z,keys:L,inside:O,node:P,applyStyle:R,guid:N,use:K,Cache:Q,nodeId:B},vt={fire:function(t,e,n,r){var i,a,f,u,c=this,s=c[w+t];if(e||(e={}),e.type||(e.type=t),s)for(a=(i=s.length)-1;i--;)(u=s[f=r?i:a-i]).f?(u.x=1,D(u.f,e,c),u.x=o):u.x||(s.splice(f,1),a--);(s=c["on"+t])&&D(s,e,c),n&&c.off(t)},on:function(t,e){var n=w+t;(this[n]||(this[n]=[])).push({f:e})},off:function(t,e){var n,r=w+t,i=this[r];if(e){if(i)for(var a=0,f=i;a<f.length;a++)if((n=f[a]).f==e){n.f=o;break}}else delete this[r],delete this["on"+t]}};dt.Event=vt;var lt={},$t={},pt={},gt=0,mt=function(t){for(var e=0,n=t=(t+o).split(",");e<n.length;e++){var r=n[e];z($t,r)?$t[r]++:$t[r]=1}return t},bt=function(t){for(var e,n=0,r=t;n<r.length;n++)e=r[n],z($t,e)&&(--$t[e]||(delete $t[e],delete lt[e]))};var yt=j({get:function(t){var e=t?lt[t]:lt;return e},set:function(t){return gt=E(t,lt,pt)||gt,this},digest:function(t){t&&yt.set(t),gt&&(gt=0,this.fire(v,{keys:pt}),pt={})},diff:function(){return pt},clean:function(t){return{ctor:function(){t=mt(t),this.on("destroy",function(){return bt(t)})}}}},vt);dt.State=yt;var wt,xt,kt,Vt,At,Tt,It="view",St=new Q,Ct=new Q,Nt=c.location,qt=0,Ht={query:{},params:{},href:o},Pt=/(?:^.*\/\/[^\/]+|#.*$)/gi,Ut=/^[^#]*#?!?/,Et=function(t){return this[V][t]||o},Ot=function(t,e){t="#!"+t,e?Nt.replace(t):Nt.hash=t},jt=function(){var t,e,n=Mt().srcHash;rt(c,"hashchange",function(r,i,a){e||(i=Mt(),(t=i.srcHash)!=n&&(a=function(){r.p=1,n=t,e=o,Ot(t),Zt()},r={reject:function(){r.p=1,e=o,Ot(n)},resolve:a,prevent:function(){e=1}},Rt.fire(l,r),e||r.p||a()))}),rt(c,"beforeunload",function(t,e,n){if(t=t||c.event,e={},Rt.fire($,e),n=e.msg)return t&&(t.returnValue=n),n}),Zt()},Lt=s.title,Mt=function(t){t=t||Nt.href;var e,r,i,a,f,u=St.get(t);return u||(e=t.replace(Pt,o),r=t.replace(Ut,o),i=ft(e),a=ft(r),f=j({},i[V],a[V]),u={get:Et,href:t,srcQuery:e,srcHash:r,query:i,hash:a,params:f},ot&&(!function(t,e){if(xt||(xt=H.routes||{},kt=H.unmatchView,Vt=H.defaultView,At=H.defaultPath||"/",Tt=H.rewrite),!t[It]){var r=t.hash[A]||At;Tt&&(r=Tt(r,t[V],xt)),e=xt[r]||kt||Vt,t[A]=r,t[It]=e,n(e)&&j(t,e)}}(u),St.set(t,u))),u},Zt=function(){var t=Mt(),e=function(t,e){var n=t.href,r=e.href,i=n+w+r,o=Ct.get(i);if(!o){var a,f;o={params:f={},force:!n};for(var u=t[V],c=e[V],s=function(t){var e=u[t],n=c[t];e!=n&&(f[t]={from:e,to:n},a=1)},h=0,d=L(u).concat(L(c));h<d.length;h++)s(d[h]);u=t,c=e,f=o,s(A),s(It),Ct.set(i,o={a:a,b:o})}return o}(Ht,Ht=t);return!qt&&e.a&&((wt=e.b)[A]&&(s.title=t.title||Lt),Rt.fire(v,wt)),qt=0,wt},Rt=j({parse:Mt,diff:Zt,to:function(t,e,r,i){!e&&n(t)&&(e=t,t=o);var a,f,u,c,s=ft(t),h=s[V],d=s[A],v=Ht[A],l=Ht[V],$=Ht.query[V];if(j(h,e),d)for(v in $)z(h,v)||(h[v]=o);else l&&(d=v,h=j({},l,h));f=Ht,u=r,c=i,(a=ut(a=d,h,$))!=f.srcHash&&(qt=c,Ot(a,u))}},vt);dt.Router=Rt;var Bt,Dt,zt=0,Ft=function(t,e,n,r,i,o){if(t&&t.$a!=zt&&(n=t.$v)&&n.$a>1){(e?function(t,e,n){var r,i=t.$os;if(i)for(var o=0,a=i;o<a.length&&(r=a[o],!(n=z(e,r)));o++);return n}(n,e):He(n))&&n.$b();for(var a=0,f=t.children();a<f.length;a++)o=f[a],Ft(Gt[o],e)}},Jt=function(t,e,n){e=_t(),(n=t[It])?e.mountView(n.to):(zt=i++,Ft(e,t.keys))},Qt=function(t){if(!t.$b&&!t.$d&&t.$cc==t.$rc){t.$cr||(t.$cr=1,t.$ca=0,t.fire("created"));var e=void 0,n=t.id,r=t.pId;(e=Gt[r])&&!z(e.$e,n)&&(e.$e[n]=1,e.$rc++,Qt(e))}},Xt=function(t,e){if(!t.$ca&&t.$cr){t.$cr=0,t.$ca=1,t.fire("alter",e);var n=void 0,r=t.id,i=t.pId;(n=Gt[i])&&z(n.$e,r)&&(n.$rc--,delete n.$e[r],Xt(n,e))}},_t=function(e){return Bt||(t=s.body,e=H.rootId,P(e)||(t.id=e),Bt=new Wt(e)),Bt},Gt={},Kt=[],Wt=function(t,e,n){var r,i;(n=this).id=t,n.$c={},n.$cc=0,n.$rc=0,n.$g=1,n.$e={},n.$f=[],n.pId=e,i=n,z(Gt,r=t)||(Gt[r]=i,Wt.fire("add",{vframe:i}),(r=P(r))&&(r.vframe=i))};j(Wt,{all:function(){return Gt},get:function(t){return Gt[t]}},vt),j(Wt[k],vt,{mountView:function(t,e){var n,r,i,o,a,f,u=this,c=u.id,s=u.pId,h=u.$g,d=P(c);!u.$h&&d&&(u.$h=1,u.$i=d.innerHTML),u.unmountView(),u.$b=0,d&&t&&(u[A]=t,n=ft(t),i=n[A],r=++h,o=n[V],f=(f=(f=(f=Gt[s])&&f.$v)&&f.$d)&&f.$a,t.indexOf(w)>0&&F(f,o),u.$n=n[A],j(o,e),K(i,function(t){if(r==u.$g){if(!t)return H.error(Error("id:"+c+" cannot load:"+i));a=qe(t),i=new t(c,u,o,a),u.$v=i,u.$a=zt,Ie(i),D(i.init,o,i),i.$b(),i.$e||(u.$h=0,i.$f||i.endUpdate())}}))},unmountView:function(){var t,n,r=this,i=r.$v,o=r.id;r.$f=[],i&&(Dt||(n=1,Dt={id:o}),r.$b=1,r.unmountZone(0,1),Xt(r,Dt),r.$v=0,i.$a>0&&(i.$a=0,delete re[o],delete ie[o],i.fire("destroy",0,1,1),Ae(i,1),Ie(i,1),i.owner=0),i.$a--,(t=P(o))&&r.$h&&e(t).html(r.$i),n&&(Dt=0)),r.$g++},mountVframe:function(t,e,n){var r,i=this,o=i.id,a=i.$c;return Xt(i,{id:t}),(r=Gt[t])||(z(a,t)||(i.$o=0,i.$cc++),a[t]=t,(r=Kt.pop())?Wt.call(r,t,o):r=new Wt(t,o)),r.mountView(e,n),r},mountZone:function(t,n){var r,i,o=this,a=[];t=t||o.id;var f,u=e("#"+t+" ["+T+"]");o.$d=1;for(var c=0,s=u;c<s.length;c++)(r=s[c]).$b||r.getAttribute("mx-slot")==o.id||(i=B(r),r.$b=1,a.push([i,r.getAttribute(T)]));for(var h=0,d=a;h<d.length;h++)i=(f=d[h])[0],r=f[1],o.mountVframe(i,r);o.$d=0,n||Qt(o)},unmountVframe:function(t,e){var n,r,i,o;if(t=t?this.$c[t]:this.id,n=Gt[t]){var a=n.$cr,f=n.pId;n.unmountView(),i=a,(o=Gt[r=t])&&(delete Gt[r],Wt.fire("remove",{vframe:o,fcc:i}),(r=P(r))&&(r.$b=0,r.vframe=0,r.$a=0)),n.id=n.pId=n.$c=n.$e=0,n.$h=0,n.off("alter"),n.off("created"),Kt.push(n),(n=Gt[f])&&z(n.$c,t)&&(delete n.$c[t],n.$o=0,n.$cc--,e||Qt(n))}},unmountZone:function(t,e){var n;for(n in this.$c)(!t||n!=t&&O(n,t))&&this.unmountVframe(n,1);e||Qt(this)},parent:function(t,e){for(e=this,t=t>>>0||1;e&&t--;)e=Gt[e.pId];return e},children:function(t){return(t=this).$o||(t.$o=L(t.$c))},invoke:function(t,e){var n,r,i,o,a,f=this.$f;return(r=this.$v)&&r.$f?n=(i=r[t])&&D(i,e,r):((o=f[a=w+t])&&(o.r=e===o.a),o={n:t,a:e,k:a},f.push(o),f[a]=o),n}}),dt.Vframe=Wt,e.fn.invokeView=function(t,e){if(this.length){var n=this[0],r=n.vframe;if(void 0===e)return r&&r.invoke(t);for(var i=0;i<this.length;i++)(r=(n=this[i]).vframe)&&r.invoke(t,e)}};var Yt=new Q(30,10),te=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,ee={},ne={},re={},ie={},oe=0,ae=function(e,n){var r,i,o,f,u,c=[],s=e,h=e.getAttribute("mx-"+n),d=[],v=m,l=0;if(h&&((f=Yt.get(h))||(f={v:(f=h.match(te)||a)[1],n:f[2],i:f[3]},Yt.set(h,f)),f=j({},f,{r:h})),f&&!f.v||ne[n]){if((o=ie[i=s.$d])&&1==o[s.$e]&&(u=1,v=i),!u){for(d.push(s);s!=t&&(s=s.parentNode);){if(Gt[i=s.id]||(o=ie[i=s.$d])&&1==o[s.$e]){v=i;break}d.push(s)}for(var $=0,p=d;$<p.length;$++)h=p[$],(i=ie[v])||(i=ie[v]={}),i[o=h.$e||(h.$e=++oe)]=1,h.$d=v}if(v!=m){s=e.id,Gt[s]&&(l=v=s);do{if((r=Gt[v])&&(u=r.$v)){for(i in(o=u.$so)[n])o={r:i,v:v,n:i},i?!l&&et(e,i)&&c.push(o):l&&c.unshift(o);if(u.$e&&!l){f&&!f.v&&(f.v=v);break}l=0}}while(r&&(v=r.pId))}}return f&&c.push(f),c},fe=function(e){for(var n,r,i,o,a,f,u,c=e.target,s=e.type,h=[];c!=t;){if((n=ae(c,s)).length){h=[];for(var d=0,v=n;d<v.length;d++){var l=v[d],$=l.v,p=(l.r,l.n),g=l.i;if(f!=$){if(f&&e.isPropagationStopped())break;f=$}(o=(i=Gt[$])&&i.$v)?(a=o[p+w+s])&&(e.eventTarget=c,u=g?ht(g,o.$d.$a):{},e[V]=u,D(a,e,o)):e.stopPropagation()}}if((r=re[a=c.$d])&&(r=r[c.$e])&&r[s]||e.isPropagationStopped()){h.length&&h.push(a);break}h.push(c),f=c.id,Gt[f]&&h.push(f),c=c.parentNode||t}if(a=h.length)for(r=m;a--;)(o=h[a]).nodeType?((n=re[r])||(n=re[r]={}),(u=n[f=o.$e||(o.$e=++oe)])||(u=n[f]={},o.$d=r),u[s]=1):r=o},ue="http://www.w3.org/2000/svg",ce={option:[1,"<select multiple>"],thead:[1,"<table>"],col:[2,"<table><colgroup>"],tr:[2,"<table><tbody>"],td:[3,"<table><tbody><tr>"],area:[1,"<map>"],param:[1,"<object>"],g:[1,'<svg xmlns="'+ue+'">'],all:[0,""]},se=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;ce.optgroup=ce.option,ce.tbody=ce.tfoot=ce.colgroup=ce.caption=ce.thead,ce.th=ce.td;var he=s.implementation.createHTMLDocument(o),de=he.createElement("base");de.href=s.location.href,he.head.appendChild(de);var ve=function(t,e){var n=B(e);t.$c[n]?t.unmountVframe(n,1):t.unmountZone(n,1)},le={INPUT:[p,"checked"],TEXTAREA:[p],OPTION:["selected"]},$e=function(t,e){return 1==t.nodeType&&(t.$f?e=t.$g:((e=t.$a?o:t.id)||(e=t.getAttribute(g)),e||(e=t.getAttribute(T))&&(e=ft(e)[A]),t.$f=1,t.$g=e)),e},pe=function(t,e,n,r,i,o){for(var a,f,u,c,s,h=t.lastChild,d=e.firstChild,v=0,l={},$={};h;)v++,(u=$e(h))&&(u=l[u]||(l[u]=[])).push(h),h=h.previousSibling,d&&((u=$e(d))&&($[u]=1),d=d.nextSibling);for(;d;)(u=$e(d))&&($[u]=1),d=d.nextSibling;for(d=e.firstChild,s=e.childNodes.length<v,h=t.firstChild;d;)v--,a=d,d=d.nextSibling,(c=l[u=$e(a)])&&(c=c.pop())?(c!=h?s&&h.nextSibling==c?(t.appendChild(h),h=c.nextSibling):t.insertBefore(c,h):h=h.nextSibling,ge(c,a,t,n,r,i,o)):h?(u=$e(f=h))&&l[u]&&$[u]?(v++,n.c=1,t.insertBefore(a,f)):(h=h.nextSibling,ge(f,a,t,n,r,i,o)):(t.appendChild(a),n.c=1);for(;v-- >0;)f=t.lastChild,ve(r,f),t.removeChild(f),n.c=1},ge=function(t,e,n,r,i,a,u){if(function(t,e){var n,r=t.nodeName,i=le[r],o=0;if(i)for(var a=0,f=i;a<f.length;a++)t[n=f[a]]!=e[n]&&(o=1,t[n]=e[n]);return o}(t,e)||1==t.nodeType&&t.hasAttribute("mxv")||!t.isEqualNode||!t.isEqualNode(e))if(t.nodeName===e.nodeName)if(1===t.nodeType){var c=e.getAttribute(g);if(c&&c==t.getAttribute(g))return;var s=e.getAttribute(T),h=e.innerHTML,d=e.getAttribute("mxa"),v=!d||d!=t.getAttribute("mxa"),l=void 0,$=void 0,m=Gt[t.id],b=void 0,y=void 0,x=s&&ft(s),k=void 0,I=void 0,S=void 0;if(s&&m&&m.$n==x[A]&&(y=m.$v)){if(I=h!=m.$i,S=s!=m[A],b=t.getAttribute("mxv"),!I&&!S&&b)for(var C=0,N=k=b.split(f);C<N.length;C++)if(b=N[C],z(u,b)){S=1;break}S||I?(b=y.$g)?(k=x[V],s.indexOf(w)>-1&&F(a,k),m.$i=h,m[A]=s,x={node:e,html:h,deep:!y.$e,inner:I,query:S},v=1,D(b,[k,x],y)&&r.v.push(y),l=x.deep):($=1,l=1):v=1}else l=1,$=m;$&&(r.c=1,m.unmountVframe(0,1)),v&&function(t,e,n,r){var i,a,f,u;delete t.$f;var c=t.attributes,s=e.attributes;for(a=c.length;a--;)i=c[a].name,e.hasAttribute(i)||("id"==i?r||n.d.push([t,o]):(n.c=1,t.removeAttribute(i)));for(a=s.length;a--;)f=(i=s[a]).name,u=i[p],t.getAttribute(f)!=u&&("id"==f?n.d.push([t,u]):(n.c=1,t.setAttribute(f,u)))}(t,e,r,m&&s),l&&pe(t,e,r,i,a,u)}else t.nodeValue!==e.nodeValue&&(r.c=1,t.nodeValue=e.nodeValue);else ve(i,t),n.replaceChild(e,t),r.c=1},me=function(t){var e;this.$b=t,this.$c=1,this.$a=((e={vId:t})[w]=1,e),this.$k={}};j(me[k],{get:function(t,e){return e=this.$a,t&&(e=e[t]),e},set:function(t){var e=this;return e.$c=E(t,e.$a,e.$k)||e.$c,e},digest:function(t){var e=this.set(t),n=e.$k,r=e.$c;e.$c=0,e.$k={},t=e.$a;var i,o,a=e.$b,f=Gt[a],u=f&&f.$v,c={d:[],v:[]},s=P(a);if(r&&u&&u.$a>0&&(i=u.$e)){delete re[a],delete ie[a],o=function(t,e){var n=he.createElement("div"),r=ue==e.namespaceURI?"g":(se.exec(t)||[0,""])[1].toLowerCase(),i=ce[r]||ce.all;n.innerHTML=i[1]+t;for(var o=i[0];o--;)n=n.lastChild;return n}(i(t,a),s),pe(s,o,c,f,t,n);for(var d=0,v=c.d;d<v.length;d++)(o=v[d])[0].id=o[1];for(var l=0,$=c.v;l<$.length;l++)(o=$[l]).$b();!c.c&&u.$f||u.endUpdate(a),c.c&&h.trigger({type:"htmlchanged",vId:a}),u.fire("domready")}return Promise.resolve()},snapshot:function(){return this.$d=y(this.$a),this},altered:function(){if(this.$d)return this.$d!=y(this.$a)},translate:function(t){return F(this.$a,t,1)},parse:function(t){return ht(t,this.$a)}});var be="default",ye="slot",we=/\s+slot(\s*=\s*"[^"]*")?/g,xe={from:function(t){for(var e,n,r={},i=t.nodeType,o=0,a=i?t.childNodes:t.a;o<a.length;o++)e=a[o],(i?e.nodeType==i&&e.hasAttribute(ye):z(e.b,ye))&&(n=1,r[(i?e.getAttribute(ye):e.b[ye])||be]=(i?e.outerHTML:e.c).replace(we,""));return n||(r[be]=(i?t.innerHTML:t.d).replace(we,"")),r}};dt.Slot=xe;var ke=/^(\$?)([^<]*)<([^>]+)>$/,Ve=function(t,e,n){return t.a?n=t:((n=function(t){D(n.a,t,this)}).a=[t],n.b=1),n.a=n.a.concat(e.a||e),n},Ae=function(t,e){var n,r,i=t.$r;for(n in i)r=i[n],(e||r.x)&&Te(i,n,1)},Te=function(t,e,n,r){var i,o,f=t[e];return f&&f!=r&&((i=(o=f.e).destroy)&&n&&D(i,a,o),delete t[e]),o},Ie=function(e,n){var r,i,o,a,f,u,c=e.$eo,s=e.$so,h=e.$el,d=e.id;for(r in c)i=r,o=s[r],a=n,void 0,void 0,f=0|ee[i],u=a?-1:1,f&&a!==f||rt(t,i,fe,a),ee[i]=f+u,o&&(ne[i]=(0|ne[i])+u);for(var v=0,l=h;v<l.length;v++)r=l[v],rt(r.e,r.n,nt,n,{i:d,v:e,f:r.f,e:r.e})},Se=[],Ce={win:c,doc:s},Ne=function(t,e,n){for(var r,i,o,a,f={},u=0,c=t;u<c.length;u++)for(r in i=c[u])o=i[r],a=f[r],"ctor"!=r?(ke.test(r)&&(a?o=Ve(a,o):o.b=1),f[r]=o):n.push(o);for(r in f)z(e,r)||(e[r]=f[r])},qe=function(t){if(!t[w]){t[w]=[];var e=t[k],n=void 0,r=void 0,i=void 0,o={},a=[],u={},c=void 0,s=void 0,h=void 0,d=void 0,v=void 0;for(h in(r=e.mixins)&&Ne(r,e,t[w]),e)if(n=e[h],r=h.match(ke)){s=r[1],i=r[2];for(var l=0,$=r[3].split(f);l<$.length;l++){if(d=$[l],c=Ce[i],v=1,s){if(c){a.push({f:n,e:c,n:d});continue}v=2,(c=u[d])||(c=u[d]={}),c[i]=1}o[d]=o[d]|v,(c=e[d=i+w+d])?c.b&&(n.b?e[d]=Ve(n,c):z(e,h)&&(e[d]=n)):e[d]=n}}m="$b",b=(p=e)[g="render"],p[g]=p[m]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];(y=this).$a>0&&(y.$a++,y.fire("rendercall"),Ae(y),D(b,t,y))},e.$eo=o,e.$el=a,e.$so=u,e.$e=e.tmpl,e.$g=e.assign}var p,g,m,b,y;return t[w]},He=function(t){var e,n,r,i=t.$l;if(i.f&&(i.p&&(e=wt[A]),!e&&i.k)){r=wt[V];for(var o=0,a=i.k;o<a.length&&(n=a[o],!(e=z(r,n)));o++);}return e},Pe=function(t,e,n,r){(r=this).owner=e,r.id=t,r.$l={k:[]},r.$r={},r.$a=1,r.updater=r.$d=new me(r.id),D(Se,n,r)},Ue=Pe[k];j(Pe,{merge:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Ne(t,Ue,Se)},extend:function(t,e){var n=this,r=(t=t||{}).ctor,i=[];r&&i.push(r);var o=function(t,e,r,o){n.call(this,t,e,r),D(i.concat(o),r,this)};return o.extend=n.extend,Y(o,n,t,e)}}),j(Ue,vt,{init:b,beginUpdate:function(t,e){(e=this).$a>0&&e.$f&&e.owner.unmountZone(t,1)},endUpdate:function(t,e,n,r,i){(n=this).$a>0&&(t=t||n.id,e?i=e:(i=n.$f,n.$f=1),(r=n.owner).mountZone(t,e),i||d(n.wrapAsync(function(){!function(t,e,n){for(e=t.$f;e.length;)(n=e.shift()).r||t.invoke(n.n,n.a),delete e[n.k]}(r)}),0))},wrapAsync:function(t,e){var n=this,r=n.$a;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r>0&&r==n.$a)return t.apply(e||n,i)}},observeLocation:function(t,e){var r;(r=this.$l).f=1,n(t)&&(e=t[A],t=t[V]),r.p=e,t&&(r.k=(t+o).split(f))},observeState:function(t){this.$os=(t+o).split(f)},capture:function(t,e,n,r){return r=this.$r,e?(Te(r,t,1,e),r[t]={e:e,x:n}):e=(r=r[t])&&r.e,e},release:function(t,e){return Te(this.$r,t,e)},leaveTip:function(t,e){var n=this,r=function(i){var o="a",a="b";i.type!=l&&(o="b",a="a"),r[o]?(i.prevent(),i.reject()):e()&&(i.prevent(),r[a]=1,n.leaveConfirm(function(){r[a]=0,i.resolve()},function(){r[a]=0,i.reject()},t))},i=function(n){e()&&(n.msg=t)};Rt.on(l,r),Rt.on($,i),n.on("unload",r),n.on("destroy",function(){Rt.off(l,r),Rt.off($,i)})},render:b}),dt.View=Pe;var Ee=e.type,Oe=e.now||Date.now,je=function(){this.id=N("b"),this.$={}};j(je[k],{get:function(t,e,n){var i=e!=n,a=this.$;if(t){for(var f=r(t)?t.slice():(t+o).split("."),u=void 0;(u=f.shift())&&a;)a=a[u];u&&(a=n)}return i&&Ee(e)!=Ee(a)&&(a=e),a},set:function(t,e){var r;n(t)||((r={})[t]=e,t=r),j(this.$,t)}});var Le=function(t,e,n){(n=this[t])&&(delete this[t],D(n,e,n.e))},Me=function(t,e,n,i,o){if(t.$d)return t;if(t.$e)return t.enqueue(Me.bind(t,t,e,n,i,o));t.$e=1,r(e)||(e=[e]);for(var a,f,c,s,h,d,v,l,$,p=t.constructor,g=0,m=p.$f,b=(a=n,f=p,c=t,s=e.length,h=i,d=p.$c,v=[],l=u,$=0,function(t,e){var n,r=this;$++;var i=r.$b,o=i.k;v[t+1]=r;var p,g={bag:r,error:e};if(e?(l=e,f.fire("fail",g),n=1):d.has(o)||(o&&d.set(o,r),i.t=Oe(),(p=i.a)&&D(p,r,r),(p=i.x)&&f.clear(p),f.fire("done",g),n=1),!c.$d){var m=$==s;m&&(c.$e=0,2==h&&(v[0]=l,D(a,v,c))),1==h&&D(a,[e||u,r,m,t],c)}n&&f.fire("end",g)}),y=0,w=e;y<w.length;y++){var x=w[y];if(x){var k=p.get(x,o),V=k.e,A=V.$b.k,T=b.bind(V,g++),I=void 0;A&&m[A]?m[A].push(T):k.u?(A&&((I=[T]).e=V,m[A]=I,T=Le.bind(m,A)),p.$s(V,T)):T()}}return t},Ze=function(){var t=this;t.id=N("s"),t.$g=[]};j(Ze[k],{all:function(t,e){return Me(this,t,e,2)},save:function(t,e){return Me(this,t,e,2,1)},one:function(t,e){return Me(this,t,e,1)},enqueue:function(t){var e=this;return e.$d||(e.$g.push(t),e.dequeue(e.$h)),e},dequeue:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=this;r.$e||r.$d||(r.$e=1,d(function(){r.$e=0,r.$d||(n=r.$g.shift())&&D(n,r.$h=t)},0))},destroy:function(t){(t=this).$d=1,t.$g=0}});var Re=function(t,e){return[y(e),y(t)].join(w)},Be=function(t,e,n,r){(r=t&&t.$b)&&e[r.n]&&n.del(r.k)},De=j({add:function(t){var e,n=this.$b;r(t)||(t=[t]);for(var i=0,o=t;i<o.length;i++)if(e=o[i]){var a=e.name,f=e.cache;e.cache=0|f,n[a]=e}},create:function(t){var e=this.meta(t),r=0|t.cache||e.cache,i=new je;i.set(e),i.$b={n:e.name,a:e.after,x:e.cleans,k:r&&Re(e,t)},n(t)&&i.set(t);var o=e.before;return o&&D(o,i,i),this.fire("begin",{bag:i}),i},meta:function(t){return this.$b[t.name||t]||t},get:function(t,e){var n,r;return e||(n=this.cached(t)),n||(n=this.create(t),r=1),{e:n,u:r}},clear:function(t){this.$c.each(Be,ct((t+o).split(f)))},cached:function(t){var e,n,r=this.$c,i=this.meta(t),o=0|t.cache||i.cache;if(o&&(n=Re(i,t)),n){var a=this.$f[n];a?e=a.e:(e=r.get(n))&&Oe()-e.$b.t>o&&(r.del(n),e=0)}return e}},vt);return Ze.extend=function(t,e,n){var r=function(){Ze.call(this)};return r.$s=t,r.$c=new Q(e,n),r.$f={},r.$b={},Y(r,Ze,u,De)},dt.Service=Ze,j(b[k],vt),b.extend=function t(e,n){var r=this,i=e&&e.ctor,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.apply(this,t),i&&i.apply(this,t)};return o.extend=t,Y(o,r,e,n)},dt.Base=b,X=Pe.extend(),dt.addView=function(t,e){(H.views=H.views||{})[t]=e},dt}();