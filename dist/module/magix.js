/*!3.8.0 MIT kooboy_li@163.com*/let e,t,r=e=>t=>Object.prototype.toString.call(t).slice(8,-1)==e,i=r("Object"),n=r("Array"),l=0,a="",o=[],f=",",$=window,s=document,d=$.setTimeout,c=function(){},u=JSON.stringify,h="\x1e",p="object",m="prototype",g="params",v="path",b="mx-view",y=/[#?].*$/,w=/([^=&?\/#]+)=?([^&#?]*)/g,k=/(?!^)=|&/,x=e=>(e||"mx_")+l++,I=x(),S={rootId:x(),defaultView:I,error(e){throw e}},V=e=>typeof e==p?e:s.getElementById(e),N=e=>!e||typeof e!=p,P=(e,t,r)=>{let i,n,l,a=0;for(l in e)i=e[l],n=t[l],N(i)&&n===i||(r[l]=1,a=1),t[l]=i;return a},C=(e,t,r)=>{if(e=V(e),t=V(t),e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},{assign:T,keys:E,hasOwnProperty:j}=Object,q=document.head,U=document.createElement("div"),O=(e,t)=>{t&&!O[e]&&(O[e]=1,U.innerHTML=`<style>${t}`,q.appendChild(U.firstChild))},A=(e,t,r,i,l)=>{t=t||o,n(e)||(e=[e]),n(t)||(t=[t]);for(l of e)try{i=l&&l.apply(r,t)}catch(e){S.error(e)}return i},H=(e,t)=>e&&j.call(e,t),L=(e,t,r)=>{let i,n;for(i in t)n=t[i],r[i]=(n+a)[0]==h?e[n]:n},M=(e,t,r)=>{r=t[g],L(e,r,r);try{return u(t)}catch(e){0}},D=(e,t)=>t.f-e.f||t.t-e.t,R=function(e,t,r,i){(i=this).c=[],i.b=t||5,i.x=i.b+(e||20),i.r=r};T(R[m],{get(e){let t=this.c[h+e];return t&&(t.f++,t.t=l++,t=t.v),t},each(e,t,r,i,n){i=(r=this).c;for(n of i)e(n.v,t,r)},set(e,t){let r=this,i=r.c,n=h+e,a=i[n],o=r.b;if(!a){if(i.length>=r.x)for(i.sort(D);o--;)(a=i.pop()).f>0&&r.del(a.o);a={o:e},i.push(a),i[n]=a}a.v=t,a.f=1,a.t=l++},del(e){e=h+e;let t=this.c,r=t[e],i=this.r;r&&(r.f=-1,r.v=a,delete t[e],i&&A(i,r.o))},has(e){return H(this.c,h+e)}});let Z=(e,r)=>{if(e)if(I==e)t||(t=Tt.extend()),r(t);else{let t=[],i=0;i(e)||(e=[e]);let n=e=>n=>{t[e]=n.default,++i==t.length&&r(...t)},l=S.paths;for(let t,r,i,a=e.length;a--;)(r=(t=e[a]).indexOf("/"))>-1&&(i=t.slice(0,r),t=t.slice(r+1),t=(l[i]||`unset/${i}/path/`)+t),t.endsWith(".js")||(t+=".js"),import(t).then(n(a))}else r()},_=function(){},B=(e,t,r,i,n)=>(_[m]=t[m],n=new _,T(n,r),T(e,i),n.constructor=e,e[m]=n,e),z=e=>s.querySelectorAll(e),F=(e,t,r)=>{let i=s.createEvent("Events");i.initEvent(t,!0,!0);for(let e in r)i[e]=r[e];e.dispatchEvent(i)},J=(e,t)=>{if(!t||!e||1!==e.nodeType)return 0;return(e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector).call(e,t)},Q=e=>e._mx||(e._mx=x("e")),W={},X=()=>!0,G=()=>!1,K={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},Y=(e,t,r,i)=>{let n=Q(e),l=W[n]||(W[n]=[]),a={$a:r&&r.i,$b:i,$d:t,$e(t){(t=(e=>{if(!e.isDefaultPrevented){for(let t in K){let r=K[t],i=e[t];e[t]=((...t)=>(e[r]=X,i&&i.apply(e,t))),e[r]=G}(void 0!==e.defaultPrevented?e.defaultPrevented:"returnValue"in e?!1===e.returnValue:e.getPreventDefault&&e.getPreventDefault())&&(e.isDefaultPrevented=X)}return e})(t)).isImmediatePropagationStopped()||i.call(e,t,r)}};l.push(a),e.addEventListener(t,a.$e,!1)},ee=(e,t)=>{e.eventTarget=t.e,A(t.f,e,t.v)},te=(e,t,r,i,n)=>{i?((e,t,r,i)=>{let n=Q(e),l=W[n];if(l){let n;for(let e,a=l.length;a--;)if((e=l[a]).$d==t&&e.$b===i){let t=e.$a;if(!r||r&&r.i==t){n=e,l.splice(a,1);break}}n&&e.removeEventListener(t,n.$e,!1)}})(e,t,n,r):Y(e,t,n,r)};let re,ie=new R,ne=(e,t,r)=>{try{r=decodeURIComponent(r)}catch(e){}re[t]=r},le=e=>{let t,r=ie.get(e);return r||(re={},e==(t=e.replace(y,a))&&k.test(t)&&(t=a),e.replace(t,a).replace(w,ne),ie.set(e,r={a:t,b:re})),{path:r.a,params:{...r.b}}},ae=(e,t,r)=>{let i,n,l,o=[];for(n in t)i=t[n]+a,(!r||i||H(r,n))&&(i=encodeURIComponent(i),o.push(l=n+"="+i));return l&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+o.join("&")),e},oe=(e,t)=>{let r,i={};if(e)for(r of e)i[t&&r?r[t]:r]=t?r:1+(0|i[r]);return i},fe={config:(e,t)=>(t=S,e&&(t=i(e)?T(t,e):t[e]),t),boot(e){T(S,e),Z(S.ini,t=>{T(S,t,e),Z(S.exts,()=>{Me.on("changed",Je),me.on("changed",Je),Oe()})})},toMap:oe,toTry:A,toUrl:ae,parseUrl:le,mix:T,has:H,keys:E,inside:C,node:V,applyStyle:O,guid:x,use:Z,Cache:R},$e={fire(e,t,r,i){let n,l,o,f,$=this,s=$[h+e];if(t||(t={}),t.type||(t.type=e),s)for(l=(n=s.length)-1;n--;)(f=s[o=i?n:l-n]).f?(f.x=1,A(f.f,t,$),f.x=a):f.x||(s.splice(o,1),l--);(s=$[`on${e}`])&&A(s,t,$),r&&$.off(e)},on(e,t){let r=h+e;(this[r]||(this[r]=[])).push({f:t})},off(e,t){let r,i=h+e,n=this,l=n[i];if(t){if(l)for(r of l)if(r.f==t){r.f=a;break}}else delete n[i],delete n[`on${e}`]}};fe.Event=$e;let se={},de={},ce={},ue=0,he=e=>{e=(e+a).split(",");for(let t of e)H(de,t)?de[t]++:de[t]=1;return e},pe=e=>{let t,r;for(t of e)H(de,t)&&((r=--de[t])||(delete de[t],delete se[t]))};let me={get(e){let t=e?se[e]:se;return t},set(e){ue=P(e,se,ce)||ue},digest(e){e&&me.set(e),ue&&(ue=0,this.fire("changed",{keys:ce}),ce={})},diff:()=>ce,clean:e=>({ctor(){e=he(e),this.on("destroy",()=>pe(e))}}),...$e};fe.State=me;let ge,ve,be,ye,we,ke,xe,Ie,Se="view",Ve=new R,Ne=new R,Pe=$.location,Ce=0,Te={query:{},params:{},href:a},Ee=/(?:^.*\/\/[^\/]+|#.*$)/gi,je=/^[^#]*#?!?/,qe=function(e){return this[g][e]||a},Ue=(e,t)=>{e=`#!${e}`,t?Pe.replace(e):Pe.hash=e},Oe=()=>{let e,t,r=He().srcHash;te($,"hashchange",(i,n,l)=>{t||(n=He(),(e=n.srcHash)!=r&&(l=(()=>{i.p=1,r=e,t=a,Ue(e),Le()}),i={reject(){i.p=1,t=a,Ue(r)},resolve:l,prevent(){t=1}},Me.fire("change",i),t||i.p||l()))}),$.onbeforeunload=((e,t,r)=>{if(e=e||$.event,t={},Me.fire("pageunload",t),r=t.msg)return e&&(e.returnValue=r),r}),Le()},Ae=s.title,He=e=>{e=e||Pe.href;let t,r,n,l,o,f=Ve.get(e);return f||(t=e.replace(Ee,a),r=e.replace(je,a),n=le(t),l=le(r),o={...n[g],...l[g]},((e,t)=>{if(ve||(ve=S.routes||{},be=S.unmatchView,ye=S.defaultView,we=S.defaultPath||"/",ke=S.rewrite),!e[Se]){let r=e.hash[v]||we;ke&&(r=ke(r,e[g],ve)),t=ve[r]||be||ye,e[v]=r,e[Se]=t,i(t)&&T(e,t)}})(f={get:qe,href:e,srcQuery:t,srcHash:r,query:n,hash:l,params:o}),Ve.set(e,f)),f},Le=()=>{let e=He(),t=((e,t)=>{let r=e.href,i=t.href,n=r+h+i,l=Ne.get(n);if(!l){let i,a;l={params:a={},force:!r};let o,f=e[g],$=t[g],s=E(f).concat(E($)),d=e=>{let t=f[e],r=$[e];t!=r&&(a[e]={from:t,to:r},i=1)};for(o of s)d(o);f=e,$=t,a=l,d(v),d(Se),Ne.set(n,l={a:i,b:l})}return l})(Te,Te=e);return!Ce&&t.a&&((ge=t.b)[v]&&(s.title=e.title||Ae),Me.fire("changed",ge)),Ce=0,ge},Me={parse:He,diff:Le,to(e,t,r,n){!t&&i(e)&&(t=e,e=a);let l=le(e),o=l[g],f=l[v],$=Te[v],s=Te[g],d=Te.query[g];if(T(o,t),f)for($ in d)H(o,$)||(o[$]=a);else s&&(f=$,o={...s,...o});var c,u,h,p;u=Te,h=r,p=n,(c=ae(c=f,o,d))!=u.srcHash&&(Ce=p,Ue(c,h))},...$e};fe.Router=Me;let De=e=>{if(!e.$a&&!e.$b&&e.$cc==e.$rc){e.$cr||(e.$cr=1,e.$ca=0,e.fire("created"));let t,{id:r,pId:i}=e;(t=Ze[i])&&!H(t.$d,r)&&(t.$d[r]=1,t.$rc++,De(t))}},Re=(e,t)=>{if(!e.$ca&&e.$cr){e.$cr=0,e.$ca=1,e.fire("alter",t);let r,{id:i,pId:n}=e;(r=Ze[n])&&H(r.$d,i)&&(r.$rc--,delete r.$d[i],Re(r,t))}},Ze={},_e=(e,t,r)=>{for(t=e.$e;t.length;)(r=t.shift()).r||e.invoke(r.n,r.a),delete t[r.k]},Be=[],ze=0,Fe=(e,t,r)=>{if(e&&e.$f!=ze&&(r=e.$v)&&r.$a>1){(t?((e,t,r)=>{let i,n=e.$os;if(n)for(i of n)if(r=H(t,i))break;return r})(r,t):Ct(r))&&r.$b();let i,n=e.children();for(i of n)Fe(Ze[i],t)}},Je=t=>{let r,i=(t=>(xe||(e=s.body,t=S.rootId,V(t)||(e.id=t),xe=new Qe(t)),xe))();(r=t[Se])?i.mountView(r.to):(ze=l++,Fe(i,t.keys))},Qe=function(e,t,r){var i,n;(r=this).id=e,r.$c={},r.$cc=0,r.$rc=0,r.$g=1,r.$d={},r.$e=[],r.pId=t,n=r,H(Ze,i=e)||(Ze[i]=n,Qe.fire("add",{vframe:n}),(i=V(i))&&(i.vframe=n))};T(Qe,{all:()=>Ze,get:e=>Ze[e]},$e),T(Qe[m],$e,{mountView(e,t){let r,i,n,l,a,o,f=this,{id:$,pId:s,$g:d}=f,c=V($);!f.$h&&c&&(f.$h=1,f.$i=c.innerHTML),f.unmountView(),f.$a=0,c&&e&&(f[v]=e,r=le(e),n=r[v],i=++d,l=r[g],o=(o=(o=(o=Ze[s])&&o.$v)&&o.$d)&&o.$a,e.indexOf(h)>0&&L(o,l,l),f.$j=M(o,r),f.$n=r[v],T(l,t),Z(n,e=>{if(i==f.$g){if(!e)return S.error(Error(`id:${$} cannot load:${n}`));a=Pt(e),n=new e({owner:f,id:$},l,a),f.$v=n,f.$f=ze,St(n),A(n.init,l,n),n.$b(),n.$e||(f.$h=0,n.$f||n.endUpdate())}}))},unmountView(){let e,t,r=this,{$v:i,id:n}=r;r.$e=[],i&&(Ie||(t=1,Ie={id:n}),r.$a=1,r.unmountZone(0,1),Re(r,Ie),r.$v=0,i.$a>0&&(i.$a=0,i.fire("destroy",0,1,1),kt(i,1),St(i,1),i.owner=0),i.$a--,(e=V(n))&&r.$h&&(e.innerHTML=r.$i),t&&(Ie=0)),r.$g++},mountVframe(e,t,r){let i,n=this,l=n.id,a=n.$c;return Re(n,{id:e}),(i=Ze[e])||(H(a,e)||(n.$o=0,n.$cc++),a[e]=e,(i=Be.pop())?Qe.call(i,e,l):i=new Qe(e,l)),i.mountView(t,r),i},mountZone(e,t){let r,i,n=this,l=[];e=e||n.id;let a=z(`#${e} [${b}]`);n.$b=1;for(r of a)i=r.id||(r.id=x()),r.$m||(r.$m=1,l.push([i,r.getAttribute(b)]));for([i,r]of l)l[i]?S.error(Error(`vf.id duplicate:${i} at ${n[v]}`)):n.mountVframe(l[i]=i,r);n.$b=0,t||De(n)},unmountVframe(e,t){let r;if(e=e?this.$c[e]:this.id,r=Ze[e]){let{$cr:a,pId:o}=r;r.unmountView(),n=a,(l=Ze[i=e])&&(delete Ze[i],Qe.fire("remove",{vframe:l,fcc:n}),(i=V(i))&&(i.$m=i.vframe=0)),r.id=r.pId=r.$c=r.$d=r.$h=0,r.off("alter"),r.off("created"),Be.push(r),(r=Ze[o])&&H(r.$c,e)&&(delete r.$c[e],r.$o=0,r.$cc--,t||De(r))}var i,n,l},unmountZone(e,t){let r,i=this;for(r in i.$c)(!e||r!=e&&C(r,e))&&i.unmountVframe(r,1);t||De(i)},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=Ze[t.pId];return t},children(e){return(e=this).$o||(e.$o=E(e.$c))},invoke(e,t){let r,i,n,l,a,o=this.$e;return(i=this.$v)&&i.$f?r=(n=i[e])&&A(n,t,i):((l=o[a=h+e])&&(l.r=t===l.a),l={n:e,a:t,k:a},o.push(l),o[a]=l),r}}),fe.Vframe=Qe;let We=new R(30,10),Xe=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,Ge={},Ke={},Ye=(t,r)=>{let i,n,l,a,f,$,s,d=[],c=t,u=t.getAttribute(`mx-${r}`),h=[],p=0;if(u&&((f=We.get(u))||((f={v:(f=u.match(Xe)||o)[1],n:f[2],i:f[3]}).p=f.i&&A(Function(`return ${f.i}`),o,t),We.set(u,f)),f={...f,r:u},d.push(f)),f&&!f.v||Ke[r]){if(!(s=t.$a))for(h.push(c);c!=e&&(c=c.parentNode);){if(Ze[n=c.id]||(n=c.$v)){s=n;break}h.push(c)}if(s){for(u of h)u.$a=s;c=t.id,Ze[c]&&(p=s=c);do{if((i=Ze[s])&&($=i.$v)){a=(l=$.$so)[r];for(n in a)l={r:n,v:s,n:n},n?J(t,n)&&d.push(l):p&&d.unshift(l);if($.$e&&!p){f&&!f.v&&(f.v=s);break}p=0}}while(i&&(s=i.pId))}}return d},et=t=>{let r,i,n,l,a,o,f,$,{target:s,type:d}=t,c=[];for(;s!=e;){if((r=Ye(s,d)).length){c=[];for(let{v:e,r:i,n:c,p:u,i:h}of r){if(f!=e){if(f&&t.isPropagationStopped())break;f=e}if(l=(n=Ze[e])&&n.$v){if((o=l[a=c+u+d])&&(t.eventTarget=s,$=u||{},h&&h.indexOf(u)>0&&L(l.$d.$a,$,$={}),t[g]=$,A(o,t,l),t.isImmediatePropagationStopped()))break;0}0}}if((i=s.$)&&i[d]||t.isPropagationStopped())break;c.push(s),s=s.parentNode||e}for(s of c)(i=s.$||(s.$={}))[d]=1},tt=(t,r,i)=>{let n=0|Ge[t],l=i?-1:1;n&&i!==n||te(e,t,et,i),Ge[t]=n+l,r&&(Ke[t]=(0|Ke[t])+l)},rt=/\\|'/g,it=/\r|\n/g,nt=/<%([@=!])?([\s\S]*?)%>|$/g,lt=new R,at=(e,t)=>{let r=lt.get(e);return r||(r=(e=>{let t=0,r="$p+='";return e.replace(nt,(i,n,l,a)=>(r+=e.slice(t,a).replace(rt,"\\$&").replace(it,"\\n"),t=a+i.length,"@"==n?r+=`';$p+=$i(${l});$p+='`:"="==n?r+=`'+$e(${l})+'`:"!"==n?r+=`'+$n(${l})+'`:l&&(r+=`';${l};$p+='`),i)),r=`let $t,$p='',$em={'&':'amp','<':'lt','>':'gt','"':'#34','\\'':'#39','\`':'#96'},$er=/[&<>"'\`]/g,$n=v=>v==null?'':''+v,$ef=m=>'&'+$em[m]+';',$e=v=>$n(v).replace($er,$ef),$i=(v,k,f)=>{for(f=$$[$g];--f;)if($$[k=$g+f]===v)return k;$$[k=$g+$$[$g]++]=v;return k},$um={'!':'%21','\\'':'%27','(':'%28',')':'%29','*':'%2A'},$uf=m=>$um[m],$uq=/[!')(*]/g,$eu=v=>encodeURIComponent($n(v)).replace($uq,$uf),$qr=/[\\\\'"]/g,$eq=v=>$n(v).replace($qr,'\\\\$&');${r+="';"}return $p`,Function("$g","$$",r)})(e),lt.set(e,r)),r(h,t)},ot={option:[1,"<select multiple>"],thead:[1,"<table>"],col:[2,"<table><colgroup>"],tr:[2,"<table><tbody>"],td:[3,"<table><tbody><tr>"],area:[1,"<map>"],param:[1,"<object>"],all:[0,""]},ft=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;ot.optgroup=ot.option,ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td;let $t=s.implementation.createHTMLDocument(a),st=$t.createElement("base");st.href=s.location.href,$t.head.appendChild(st);let dt=(e,t)=>{let r=(e=>e.id||(e.id=x()))(t);e.$c[r]?e.unmountVframe(r,1):e.unmountZone(r,1)},ct={INPUT:[{a:"defaultValue",b:"value"},{a:"defaultChecked",b:"checked"},{a:"disabled"},{a:"readonly"}],OPTION:[{a:"selected"}]};ct.TEXTAREA=ct.INPUT;let ut=(e,t,r,i,n,l)=>{let a,o,f,$,s=e.firstChild,d=t.firstChild,c=0,u={};for(;s;)c++,f=(o=s).id,s=s.nextSibling,f&&(u[f]=o);for(s=e.firstChild;d;)c--,a=d,d=d.nextSibling,(f=a.id)&&($=u[f])?(delete u[f],$!==s?e.insertBefore($,s):s=s.nextSibling,ht($,a,e,r,i,n,l)):s?(u[f=s.id]&&delete u[f],o=s,s=s.nextSibling,ht(o,a,e,r,i,n,l)):(e.appendChild(a),r.c=1);for(f in u)c--,o=u[f],dt(i,o),e.removeChild(o),r.c=1;for(;--c>=0;)o=e.lastChild,dt(i,o),e.removeChild(o),r.c=1},ht=(e,t,r,i,n,l,a)=>{if(e.nodeType===t.nodeType)if(1===e.nodeType)if(e.nodeName===t.nodeName){let r,o,f,$,s,d,c,u,p,m,y,w=t.getAttribute(b),k=t.innerHTML,x=Ze[e.id];w&&x?(c=x.$j,$=x.$v,d=(s=le(w))[g],w.indexOf(h)>-1&&L(l,d,d),p=c!=(u=M(l,s)),m=k!=x.$i,y=!$.$e,(!c||y||m||p)&&(x.$n==s[v]&&$.$g?(p&&e.setAttribute(b,w),x.$i=k,x.$j=u,x[v]=w,u={keys:a,node:t,deep:y,data:p,html:m},A($.$g,[d,u],$)&&$.$b(),o=u.deep):(f=1,o=1,r=1))):(r=1,o=1,f=x),f&&x.unmountVframe(0,1),r&&((e,t,r,i)=>{let n,l,a,o,f,$,s=e.attributes,d=t.attributes,c=e.nodeName,u=ct[c];if(u)for(f of u)e[f.a]!=t[f.a]&&(e[a=f.b||f.a]=t[a]);for(a=s.length;a--;)o=(n=s[a]).namespaceURI,f=n.localName,(l=d.getNamedItemNS(o,f))||i&&"id"==f||s.removeNamedItemNS(o,f);for(a=d.length;a--;)o=(n=d[a]).namespaceURI,f=n.localName,l=s.getNamedItemNS(o,f),($=i&&"id"==f)&&(c=n.value,n.value=""),l?l.value!==n.value&&(l.value=n.value,$&&r.d.push([l,c])):(d.removeNamedItemNS(o,f),s.setNamedItemNS(n),$&&r.d.push([n,c]))})(e,t,i,f),o&&(i.c=1,ut(e,t,i,n,l,a))}else dt(n,e),r.replaceChild(t,e),i.c=1;else e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue,i.c=1);else dt(n,e),r.replaceChild(t,e),i.c=1},pt=/\d+\x1d/g,mt=(e,t,r,i)=>{let n,l,a,o=e.$b,f=Ze[o],$=f&&f.$v,d={d:[]},c=V(o);if($&&$.$a>0&&(n=$.$e)){if(!n[h]){n[h]=1;let e,t=e=>t[e].tmpl,r=n.subs;if(r){for(a=r.length;a--;)(e=r[a]).s&&(t[e.s]=e,e.tmpl=e.tmpl.replace(pt,t));n.html=n.html.replace(pt,t)}}if(r){l=yt(at(n.html,t),o),ut(c,(e=>{let t=$t.createElement("div"),r=(ft.exec(e)||[0,""])[1].toLowerCase(),i=ot[r]||ot.all;t.innerHTML=i[1]+e;let n=i[0];for(;n--;)t=t.lastChild;return t})(l),d,f,t,i);for(a of d.d)a[0].value=a[1];d.c&&($.endUpdate(o),F(s,"htmlchanged",{vId:o}))}$.fire("domready")}},gt=function(e){this.$b=e,this.$c=1,this.$a={vId:e,[h]:1},this.$k={}};T(gt[m],{get(e,t){return t=this.$a,e&&(t=t[e]),t},set(e){let t=this,{$a:r,$k:i}=t;return e&&(t.$c=P(e,r,i)||t.$c),t},digest(e,t,r){let i=this;return i.set(e),e=i.$a,t=i.$k,r=i.$c,i.$c=0,i.$k={},mt(i,e,r,t),i},snapshot(){return this.$d=u(this.$a),this},altered(){let e=this;if(e.$d)return e.$d!=u(e.$a)}});let vt=/^(\$?)([^<]*)<([^>]+)>$/,bt=/\x1f/g,yt=(e,t)=>(e+a).replace(bt,t),wt=(e,t,r)=>(e.$h?r=e:((r=function(e){A(r.$h,e,this)}).$h=[e],r.$i=1),r.$h=r.$h.concat(t.$h||t),r),kt=(e,t)=>{let r,i,n=e.$r;for(r in n)i=n[r],(t||i.x)&&xt(n,r,1)},xt=(e,t,r,i)=>{let n,l,a=e[t];return a&&a!=i&&((n=(l=a.e).destroy)&&r&&A(n,o,l),delete e[t]),l},It=(e,t,r,i,n)=>{i=e[t],e[t]=e[r]=function(...e){(n=this).$a>0&&(n.$a++,n.fire("rendercall"),kt(n),A(i,e,n))}},St=(e,t)=>{let r,{$eo:i,$so:n,$el:l,id:a}=e;for(r in i)tt(r,n[r],t);for(r of l)te(r.e,r.n,ee,t,{i:a,v:e,f:r.f,e:r.e})},Vt=[],Nt={win:$,doc:s},Pt=e=>{if(!e[h]){e[o]=[];let t,r,i,n,l,a,o,$,s,d=e[m],c={},u=[],h={},p={};if(r=d.mixins){for(l of r)for(o in l)t=l[o],i=p[o],"ctor"!=o?(vt.test(o)&&(i?t=wt(i,t):t.$i=1),p[o]=t):e[o].push(t);for(o in p)H(d,o)||(d[o]=p[o])}for(o in d)if(t=d[o],r=o.match(vt)){[,a,i,n]=r,n=n.split(f);for($ of n){if(l=Nt[i],s=1,a){if(l){u.push({f:t,e:l,n:$});continue}s=2,(l=h[$])||(l=h[$]={}),l[i]=1}c[$]=c[$]|s,(l=d[$=i+o+$])?l.$i&&(t.$i?d[$]=wt(l,t):H(d,o)&&(d[$]=t)):d[$]=t}}It(d,"render","$b"),d.$eo=c,d.$el=u,d.$so=h,d.$e=d.tmpl,d.$g=d.assign}return e[h]},Ct=e=>{let t,r,i,n=e.$l;if(n.f&&(n.p&&(t=ge[v]),!t&&n.k)){i=ge[g];for(r of n.k)if(t=H(i,r))break}return t},Tt=function(e,t){T(t=this,e),t.$l={k:[]},t.$r={},t.$a=1,t.updater=t.$d=new gt(t.id),A(Vt,e,t)},Et=Tt[m];T(Tt,{merge(...e){let t,r;for(t of e)(r=t&&t.ctor)&&Vt.push(r),T(Et,t)},extend(e,t){let r=this,i=(e=e||{}).ctor,n=[];i&&n.push(i);let l=function(e,t,i){r.call(this,e,t),A(n.concat(i),t,this)};return l.extend=r.extend,B(l,r,e,t)}}),T(Et,$e,{init:c,wrapEvent(e){return yt(e,this.id)},beginUpdate(e,t){(t=this).$a>0&&t.$f&&t.owner.unmountZone(e,1)},endUpdate(e,t,r,i,n){(r=this).$a>0&&(e=e||r.id,t?n=t:(n=r.$f,r.$f=1),(i=r.owner).mountZone(e,t),n||d(r.wrapAsync(_e),0,i))},wrapAsync(e,t){let r=this,i=r.$a;return(...n)=>{if(i>0&&i==r.$a)return e.apply(t||r,n)}},observeLocation(e,t){let r;(r=this.$l).f=1,i(e)&&(t=e[v],e=e[g]),r.p=t,e&&(r.k=(e+a).split(f))},observeState(e){this.$os=(e+a).split(f)},capture(e,t,r,i){return i=this.$r,t?(xt(i,e,1,t),i[e]={e:t,x:r}):t=(i=i[e])&&i.e,t},release(e,t){return xt(this.$r,e,t)},leaveTip(e,t){let r=this,i=n=>{let l="a",a="b";"change"!=n.type&&(l="b",a="a"),i[l]?(n.prevent(),n.reject()):t()?(n.prevent(),i[a]=1,r.leaveConfirm(e,()=>{i[a]=0,n.resolve()},()=>{i[a]=0,n.reject()})):n.resolve()},n=r=>{t()&&(r.msg=e)};Me.on("change",i),Me.on("pageunload",n),r.on("unload",i),r.on("destroy",()=>{Me.off("change",i),Me.off("pageunload",n)})},render:c}),fe.View=Tt;let jt=Date.now,qt=function(){this.id=x("b"),this.$={}};T(qt[m],{get(e,t,i){let l,o=t!=i,f=this.$;if(e){let t,r=n(e)?e.slice():(e+a).split(".");for(;(t=r.shift())&&f;)f=f[t];t&&(f=i)}return o&&(l=r(t))!=r(f)&&(f=t),f},set(e,t){i(e)||(e={[e]:t}),T(this.$,e)}});let Ut=function(e,t,r){(r=this[e])&&(delete this[e],A(r,t,r.e))},Ot=(e,t,r,i,n,l)=>{let a=[],o=0,f=0;return function($,s){let d,c=this;f++;let u=c.$b,h=u.k;a[$+1]=c;let p,m={bag:c,error:s};if(s?(o=s,t.fire("fail",m),d=1):l.has(h)||(h&&l.set(h,c),u.t=jt(),(p=u.a)&&A(p,c,c),(p=u.x)&&t.clear(p),t.fire("done",m),d=1),!r.$d){let t=f==i;t&&(r.$e=0,2==n&&(a[0]=o,A(e,a,r))),1==n&&A(e,[s||null,c,t,$],r)}d&&t.fire("end",m)}},At=(e,t,r,i,l)=>{if(e.$d)return e;if(e.$e)return e.enqueue(At.bind(e,e,t,r,i,l));e.$e=1,n(t)||(t=[t]);let a=e.constructor,o=0,f=a.$f,$=Ot(r,a,e,t.length,i,a.$c);for(let e of t)if(e){let t,r=a.get(e,l),i=r.e,n=i.$b.k,s=$.bind(i,o++);n&&f[n]?f[n].push(s):r.u?(n&&((t=[s]).e=i,f[n]=t,s=Ut.bind(f,n)),a.$s(i,s)):s()}return e},Ht=function(){let e=this;e.id=x("s"),e.$g=[]};T(Ht[m],{all(e,t){return At(this,e,t,2)},save(e,t){return At(this,e,t,2,1)},one(e,t){return At(this,e,t,1)},enqueue(e){let t=this;return t.$d||(t.$g.push(e),t.dequeue(t.$h)),t},dequeue(...e){let t,r=this;r.$e||r.$d||(r.$e=1,d(()=>{r.$e=0,r.$d||(t=r.$g.shift())&&A(t,r.$h=e)},0))},destroy(e){(e=this).$d=1,e.$g=0}});let Lt=(e,t)=>[u(t),u(e)].join(h),Mt=(e,t,r,i)=>{(i=e&&e.$b)&&t[i.n]&&r.del(i.k)},Dt={add(e){let t,r=this.$b;n(e)||(e=[e]);for(t of e)if(t){let{name:e,cache:i}=t;t.cache=0|i,r[e]=t}},create(e){let t=this.meta(e),r=0|e.cache||t.cache,n=new qt;n.set(t),n.$b={n:t.name,a:t.after,x:t.cleans,k:r&&Lt(t,e)},i(e)&&n.set(e);let l=t.before;return l&&A(l,n,n),this.fire("begin",{bag:n}),n},meta(e){return this.$b[e.name||e]||e},get(e,t){let r,i,n=this;return t||(r=n.cached(e)),r||(r=n.create(e),i=1),{e:r,u:i}},clear(e){this.$c.each(Mt,oe((e+a).split(f)))},cached(e){let t,r,i=this,n=i.$c,l=i.meta(e),a=0|e.cache||l.cache;if(a&&(r=Lt(l,e)),r){let e=i.$f[r];e?t=e.e:(t=n.get(r))&&jt()-t.$b.t>a&&(n.del(r),t=0)}return t},...$e};Ht.extend=((e,t,r)=>{let i=function(){Ht.call(this)};return i.$s=e,i.$c=new R(t,r),i.$f={},i.$b={},B(i,Ht,null,Dt)}),fe.Service=Ht,T(c[m],$e),c.extend=function e(t,r){let i=this,n=t&&t.ctor,l=function(...e){i.apply(this,e),n&&n.apply(this,e)};return l.extend=e,B(l,i,t,r)},fe.Base=c,fe.trigger=F;export default fe