/*!3.8.8 MIT kooboy_li@163.com*/define("magix",["$"],e=>{let t,r,i=e.isPlainObject,n=e.isArray,o=0,f="",a=[],s=",",l=null,c=window,h=document,u=e(h),$=c.setTimeout,d="changed",p="change",m="pageunload",g="value",b="mxs",v="mxa",w="#",y=function(){},x=JSON.stringify,k="\x1e",V="object",j="prototype",I="params",T="path",A="mx-view",q=/[#?].*$/,S=/([^=&?\/#]+)=?([^&#?]*)/g,H=/(?!^)=|&/,O=e=>(e||"mx_")+o++,E=O(),U={rootId:O(),defaultView:E,error(e){throw e}},Z=e=>typeof e==V?e:h.getElementById(e),P=e=>!e||typeof e!=V,C=(e,t,r)=>{let i,n,o,f=0;for(o in e)i=e[o],n=t[o],P(i)&&n===i||(r[o]=1,f=1),t[o]=i;return f},L=(e,t,r)=>{if(e=Z(e),t=Z(t),e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},{assign:M,keys:N,hasOwnProperty:_}=Object,z=e("head"),B=(e,t)=>{t&&!B[e]&&(B[e]=1,z.append(`<style>${t}`))},R=e=>e.id||(e.id=O()),F=(e,t,r,i,o)=>{t=t||a,n(e)||(e=[e]),n(t)||(t=[t]);for(o of e)try{i=o&&o.apply(r,t)}catch(e){U.error(e)}return i},D=(e,t)=>e&&_.call(e,t),W=(e,t,r)=>{let i,n;if(!r&&P(t))(i=t+f)[0]==k&&(t=e[i]);else for(i in t)n=t[i],r&&!P(n)&&W(e,n,r),i[0]==k&&(delete t[i],i=e[i]),t[i]=(n+f)[0]==k?e[n]:n;return t},J=(e,t)=>t.f-e.f||t.t-e.t,Q=function(e,t,r,i){(i=this).c=[],i.b=t||5,i.x=i.b+(e||20),i.r=r};M(Q[j],{get(e){let t=this.c[k+e];return t&&(t.f++,t.t=o++,t=t.v),t},each(e,t,r,i,n){i=(r=this).c;for(n of i)e(n.v,t,r)},set(e,t){let r=this,i=r.c,n=k+e,f=i[n],a=r.b;if(!f){if(i.length>=r.x)for(i.sort(J);a--;)(f=i.pop()).f>0&&r.del(f.o);f={o:e},i.push(f),i[n]=f}f.v=t,f.f=1,f.t=o++},del(e){e=k+e;let t=this.c,r=t[e],i=this.r;r&&(r.f=-1,r.v=f,delete t[e],i&&F(i,r.o))},has(e){return D(this.c,k+e)}});let G=(e,t)=>{if(e)if(E==e)r||(r=Wt.extend()),t(r);else if(n(e))require(e,t);else try{t(require(e))}catch(r){require([e],t)}else t&&t()},K=function(){},X=(e,t,r,i,n)=>(K[j]=t[j],n=new K,M(n,r),M(e,i),n.constructor=e,e[j]=n,e),Y=e.find||e.zepto,ee=Y.matchesSelector||Y.matches,te=(e,t)=>{t=e.data,e.eventTarget=t.e,F(t.f,e,t.v)},re=(t,r,i,n,o)=>{o&&(r+=`.${o.i}`),n?e(t).off(r,i):e(t).on(r,o,i)};let ie,ne=new Q,oe=0,fe=(e,t,r)=>{try{r=decodeURIComponent(r)}catch(e){}ie[t]=r},ae=e=>{let t,r=ne.get(e);return r||(ie={},e==(t=e.replace(q,f))&&H.test(t)&&(t=f),e.replace(t,f).replace(S,fe),ne.set(e,r={a:t,b:ie})),{path:r.a,params:{...r.b}}},se=(e,t,r)=>{let i,n,o,a=[];for(n in t)i=t[n]+f,(!r||i||D(r,n))&&(i=encodeURIComponent(i),a.push(o=n+"="+i));return o&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+a.join("&")),e},le=(e,t)=>{let r,i={};if(e)for(r of e)i[t&&r?r[t]:r]=t?r:1+(0|i[r]);return i},ce=new Q,he=(e,t,r)=>(ce.has(e)?r=ce.get(e):(r=F(Function(`return ${e}`)),e.indexOf(k)>-1?W(t,r,1):ce.set(e,r)),r),ue={config:(e,t)=>(t=U,e&&(t=i(e)?M(t,e):t[e]),t),boot(e){M(U,e),G(U.ini,t=>{M(U,t,e),G(U.exts,()=>{_e.on(d,De),we.on(d,De),oe=1,Ce()})})},toMap:le,toTry:F,toUrl:se,parseUrl:ae,mix:M,has:D,keys:N,inside:L,node:Z,applyStyle:B,guid:O,use:G,Cache:Q,nodeId:R},$e={fire(e,t,r,i){let n,o,a,s,l=this,c=l[k+e];if(t||(t={}),t.type||(t.type=e),c)for(o=(n=c.length)-1;n--;)(s=c[a=i?n:o-n]).f?(s.x=1,F(s.f,t,l),s.x=f):s.x||(c.splice(a,1),o--);(c=l[`on${e}`])&&F(c,t,l),r&&l.off(e)},on(e,t){let r=k+e;(this[r]||(this[r]=[])).push({f:t})},off(e,t){let r,i=k+e,n=this,o=n[i];if(t){if(o)for(r of o)if(r.f==t){r.f=f;break}}else delete n[i],delete n[`on${e}`]}};ue.Event=$e;let de={},pe={},me={},ge=0,be=e=>{e=(e+f).split(",");for(let t of e)D(pe,t)?pe[t]++:pe[t]=1;return e},ve=e=>{let t,r;for(t of e)D(pe,t)&&((r=--pe[t])||(delete pe[t],delete de[t]))};let we={get(e){let t=e?de[e]:de;return t},set(e){return ge=C(e,de,me)||ge,this},digest(e){e&&we.set(e),ge&&(ge=0,this.fire(d,{keys:me}),me={})},diff:()=>me,clean:e=>({ctor(){e=be(e),this.on("destroy",()=>ve(e))}}),...$e};ue.State=we;let ye,xe,ke,Ve,je,Ie,Te="view",Ae=new Q,qe=new Q,Se=c.location,He=0,Oe={query:{},params:{},href:f},Ee=/(?:^.*\/\/[^\/]+|#.*$)/gi,Ue=/^[^#]*#?!?/,Ze=function(e){return this[I][e]||f},Pe=(e,t)=>{e=`#!${e}`,t?Se.replace(e):Se.hash=e},Ce=()=>{let e,t,r=Me().srcHash;re(c,"hashchange",(i,n,o)=>{t||(n=Me(),(e=n.srcHash)!=r&&(o=(()=>{i.p=1,r=e,t=f,Pe(e),Ne()}),i={reject(){i.p=1,t=f,Pe(r)},resolve:o,prevent(){t=1}},_e.fire(p,i),t||i.p||o()))}),re(c,"beforeunload",(e,t,r)=>{if(e=e||c.event,t={},_e.fire(m,t),r=t.msg)return e&&(e.returnValue=r),r}),Ne()},Le=h.title,Me=e=>{e=e||Se.href;let t,r,n,o,a,s=Ae.get(e);return s||(t=e.replace(Ee,f),r=e.replace(Ue,f),n=ae(t),o=ae(r),a={...n[I],...o[I]},s={get:Ze,href:e,srcQuery:t,srcHash:r,query:n,hash:o,params:a},oe&&(((e,t)=>{if(xe||(xe=U.routes||{},ke=U.unmatchView,Ve=U.defaultView,je=U.defaultPath||"/",Ie=U.rewrite),!e[Te]){let r=e.hash[T]||je;Ie&&(r=Ie(r,e[I],xe)),t=xe[r]||ke||Ve,e[T]=r,e[Te]=t,i(t)&&M(e,t)}})(s),Ae.set(e,s))),s},Ne=()=>{let e=Me(),t=((e,t)=>{let r=e.href,i=t.href,n=r+k+i,o=qe.get(n);if(!o){let i,f;o={params:f={},force:!r};let a,s=e[I],l=t[I],c=N(s).concat(N(l)),h=e=>{let t=s[e],r=l[e];t!=r&&(f[e]={from:t,to:r},i=1)};for(a of c)h(a);s=e,l=t,f=o,h(T),h(Te),qe.set(n,o={a:i,b:o})}return o})(Oe,Oe=e);return!He&&t.a&&((ye=t.b)[T]&&(h.title=e.title||Le),_e.fire(d,ye)),He=0,ye},_e={parse:Me,diff:Ne,to(e,t,r,n){!t&&i(e)&&(t=e,e=f);let o=ae(e),a=o[I],s=o[T],l=Oe[T],c=Oe[I],h=Oe.query[I];if(M(a,t),s)for(l in h)D(a,l)||(a[l]=f);else c&&(s=l,a={...c,...a});var u,$,d,p;$=Oe,d=r,p=n,(u=se(u=s,a,h))!=$.srcHash&&(He=p,Pe(u,d))},...$e};ue.Router=_e;let ze,Be,Re=0,Fe=(e,t,r,i,n,o)=>{if(e&&e.$a!=Re&&(r=e.$v)&&r.$a>1){(t?((e,t,r)=>{let i,n=e.$os;if(n)for(i of n)if(r=D(t,i))break;return r})(r,t):Dt(r))&&r.$b(),n=e.children();for(o of n)Fe(Ge[o],t)}},De=(e,t,r)=>{t=Qe(),(r=e[Te])?t.mountView(r.to):(Re=o++,Fe(t,e.keys))},We=e=>{if(!e.$b&&!e.$d&&e.$cc==e.$rc){e.$cr||(e.$cr=1,e.$ca=0,e.fire("created"));let t,{id:r,pId:i}=e;(t=Ge[i])&&!D(t.$e,r)&&(t.$e[r]=1,t.$rc++,We(t))}},Je=(e,t)=>{if(!e.$ca&&e.$cr){e.$cr=0,e.$ca=1,e.fire("alter",t);let r,{id:i,pId:n}=e;(r=Ge[n])&&D(r.$e,i)&&(r.$rc--,delete r.$e[i],Je(r,t))}},Qe=e=>(ze||(t=h.body,e=U.rootId,Z(e)||(t.id=e),ze=new Ye(e)),ze),Ge={},Ke=(e,t,r)=>{for(t=e.$f;t.length;)(r=t.shift()).r||e.invoke(r.n,r.a),delete t[r.k]},Xe=[],Ye=function(e,t,r){var i,n;(r=this).id=e,r.$c={},r.$cc=0,r.$rc=0,r.$g=1,r.$e={},r.$f=[],r.pId=t,n=r,D(Ge,i=e)||(Ge[i]=n,Ye.fire("add",{vframe:n}),(i=Z(i))&&(i.vframe=n))};M(Ye,{all:()=>Ge,get:e=>Ge[e]},$e),M(Ye[j],$e,{mountView(e,t){let r,i,n,o,f,a,s=this,{id:l,pId:c,$g:h}=s,u=Z(l);!s.$h&&u&&(s.$h=1,s.$i=u.innerHTML),s.unmountView(),s.$b=0,u&&e&&(s[T]=e,r=ae(e),n=r[T],i=++h,o=r[I],a=(a=(a=(a=Ge[c])&&a.$v)&&a.$d)&&a.$a,e.indexOf(k)>0&&W(a,o),s.$n=r[T],M(o,t),G(n,e=>{if(i==s.$g){if(!e)return U.error(Error(`id:${l} cannot load:${n}`));f=Ft(e),n=new e(l,s,o,f),s.$v=n,s.$a=Re,_t(n),F(n.init,o,n),n.$b(),n.$e||(s.$h=0,n.$f||n.endUpdate())}}))},unmountView(){let t,r,i=this,{$v:n,id:o}=i;i.$f=[],n&&(Be||(r=1,Be={id:o}),i.$b=1,i.unmountZone(0,1),Je(i,Be),i.$v=0,n.$a>0&&(n.$a=0,delete nt[o],delete ot[o],n.fire("destroy",0,1,1),Lt(n,1),_t(n,1),n.owner=0),n.$a--,(t=Z(o))&&i.$h&&e(t).html(i.$i),r&&(Be=0)),i.$g++},mountVframe(e,t,r){let i,n=this,o=n.id,f=n.$c;return Je(n,{id:e}),(i=Ge[e])||(D(f,e)||(n.$o=0,n.$cc++),f[e]=e,(i=Xe.pop())?Ye.call(i,e,o):i=new Ye(e,o)),i.mountView(t,r),i},mountZone(t,r){let i,n,o=this,f=[];t=t||o.id;let a=e(`#${t} [${A}]`);o.$d=1;for(i of a)i.$a||i.getAttribute("mx-slot")==o.id||(n=R(i),i.$a=1,f.push([n,i.getAttribute(A)]));for([n,i]of f)o.mountVframe(n,i);o.$d=0,r||We(o)},unmountVframe(e,t){let r;if(e=e?this.$c[e]:this.id,r=Ge[e]){let{$cr:f,pId:a}=r;r.unmountView(),n=f,(o=Ge[i=e])&&(delete Ge[i],Ye.fire("remove",{vframe:o,fcc:n}),(i=Z(i))&&(i.$a=0,i.vframe=0)),r.id=r.pId=r.$c=r.$e=0,r.off("alter"),r.off("created"),Xe.push(r),(r=Ge[a])&&D(r.$c,e)&&(delete r.$c[e],r.$o=0,r.$cc--,t||We(r))}var i,n,o},unmountZone(e,t){let r,i=this;for(r in i.$c)(!e||r!=e&&L(r,e))&&i.unmountVframe(r,1);t||We(i)},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=Ge[t.pId];return t},children(e){return(e=this).$o||(e.$o=N(e.$c))},invoke(e,t){let r,i,n,o,f,a=this.$f;return(i=this.$v)&&i.$f?r=(n=i[e])&&F(n,t,i):((o=a[f=k+e])&&(o.r=t===o.a),o={n:e,a:t,k:f},a.push(o),a[f]=o),r}}),ue.Vframe=Ye,e.fn.invokeView=function(e,t){if(this.length){let r=this[0].vframe;if(void 0===t)return r&&r.invoke(e);for(let i of this)(r=i.vframe)&&r.invoke(e,t)}};let et=new Q(30,10),tt=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,rt={},it={},nt={},ot={},ft=0,at=(e,r)=>{let i,n,o,f,s,l,c=[],h=e,u=e.getAttribute(`mx-${r}`),$=[],d=w,p=0;if(u&&((s=et.get(u))||(s={v:(s=u.match(tt)||a)[1],n:s[2],i:s[3]},et.set(u,s)),s={...s,r:u}),s&&!s.v||it[r]){if((o=ot[n=h.$b])&&1==o[h.$d]&&(l=1,d=n),!l){for($.push(h);h!=t&&(h=h.parentNode);){if(Ge[n=h.id]||(o=ot[n=h.$b])&&1==o[h.$d]){d=n;break}$.push(h)}for(u of $)(n=ot[d])||(n=ot[d]={}),n[o=u.$d||(u.$d=++ft)]=1,u.$b=d}if(d!=w){h=e.id,Ge[h]&&(p=d=h);do{if((i=Ge[d])&&(l=i.$v)){f=(o=l.$so)[r];for(n in f)o={r:n,v:d,n:n},n?!p&&ee(e,n)&&c.push(o):p&&c.unshift(o);if(l.$e&&!p){s&&!s.v&&(s.v=d);break}p=0}}while(i&&(d=i.pId))}}return s&&c.push(s),c},st=e=>{let r,i,n,o,f,a,s,l,{target:c,type:h}=e,u=[];for(;c!=t;){if((r=at(c,h)).length){u=[];for(let{v:t,r:i,n:u,i:$}of r){if(s!=t){if(s&&e.isPropagationStopped())break;s=t}(o=(n=Ge[t])&&n.$v)?(a=o[f=u+k+h])&&(e.eventTarget=c,l=$?he($,o.$d.$a):{},e[I]=l,F(a,e,o)):e.stopPropagation()}}if((i=nt[a=c.$b])&&(i=i[c.$d])&&i[h]||e.isPropagationStopped()){u.length&&u.push(a);break}u.push(c),s=c.id,Ge[s]&&u.push(s),c=c.parentNode||t}if(a=u.length)for(i=w;a--;)(o=u[a]).nodeType?((r=nt[i])||(r=nt[i]={}),(l=r[s=o.$d||(o.$d=++ft)])||(l=r[s]={},o.$b=i),l[h]=1):i=o},lt=(e,r,i)=>{let n=0|rt[e],o=i?-1:1;n&&i!==n||re(t,e,st,i),rt[e]=n+o,r&&(it[e]=(0|it[e])+o)},ct={input:1,br:1,hr:1,img:1,embed:1,source:1,area:1,param:1,col:1,track:1,wbr:1},ht={input:[g,"checked"],textarea:[g],option:["selected"]},ut=o;let $t=/^<([a-z\d]+)((?:\s+[-A-Za-z\d_]+(?:="[^"]*")?)*)\s*(\/?)>/,dt=/([-A-Za-z\d_]+)(?:="([^"]*)")?/g,pt=/^<\/[a-z\d]+>/,mt={},gt=/&#?[^\W]+;?/g,bt=h.createElement("div"),vt=e=>(D(mt,e)||(bt.innerHTML=e,mt[e]=bt.innerText),mt[e]),wt=e=>e.replace(gt,vt),yt=(e,t)=>{let r,i,n,o,f,a;if(o=e.e,a=e.c,o==ut)return a;if(o&&t){f="<"+o+" ";for(r of e.f)i=r.g,n=r.h,f+=" "+i+'="'+wt(n)+'"';return e.m?f+" />":f+" >"+a+"</"+o+">"}return a},xt=e=>e.j?e.j:(e.j=yt(e,!0),e.j),kt=(e,t)=>{if(e.c)return yt(e,t);let r="";return Array.isArray(e)?e.forEach(function(e){r+=kt(e,t)}):e.b.length>0&&(r=kt(e.b,!0)),e.c=r,yt(e,t)},Vt=/mx-(?!view|vframe|owner|autonomy|datafrom|guid|ssid|dep|html|static)([a-zA-Z]+)/,jt=function(e,t,...r){let n={},o="",f=this;if(t=t||{},r=r||[],e instanceof Function){if(!ue.addView)return;let r=O("_mv_");t["mx-view"]=r,ue.addView(r,e),e="div"}if(n.i=t,n.f=[],Object.keys(t).forEach(function(e){if("id"==e?o=t[e]:e==A&&t[e]&&!o?o=ae(t[e])[T]:"mxs"==e&&(o||(o=t[e])),Vt.test(e)){var r=t[e],i="";r instanceof Function&&(r=(i=O("_efn_"))+"()",f.constructor[j][i+k+"click"]=t[e]),t[e]=f.id+"\x1e"+r}n.f.push({g:e,h:t[e]})}),t["mx-view"]){let e,r,i,o=[],a=null;n.f.forEach(function(t){"mx-view"===t.g?a=t:t.g.trim().startsWith("view-")&&(e=k+O("sk"),f.updater.$a[e]=t.h,t.h=e,n.i[t.g]=e,r=t.g.replace("view-",""),o.push(r+"="+e))}),i=a.h+"?"+o.join("&"),a.h=i,t["mx-view"]=i}return e&&(n.e=e,n.l=o),n.b=[],r.forEach(function(e){i(e)?n.b.push(e):n.b.push({c:e,e:ut})}),n},It=(e,t)=>{let r=R(t);e.$c[r]?e.unmountVframe(r,1):e.unmountZone(r,1)},Tt=(e,t,r,i)=>{let n,o,a,s=r.i;if(t)for(n of t.f)o=n.g,D(s,o)||("id"==o?i.d.push([e,f]):(i.c=1,e.removeAttribute(o)));for(n of r.f)o=n.g,a=n.h,t&&t.i[o]===a||(a=wt(a),"id"==o?i.d.push([e,a]):(i.c=1,e.setAttribute(o,a)))},At=(e,t,r,i,n)=>{if((n=e.e)==ut)return h.createTextNode(e.c);let o=kt(e);return i=h.createElementNS("svg"==n?"http://www.w3.org/2000/svg":t.namespaceURI,n),Tt(i,0,e,r),o&&(i.innerHTML=o),i},qt=(e,t,r,i,n,o,f)=>{if(t){let a,s,l,c,h,u,$=0,d=t.b,p=r.b,m=d.length,g=p.length,b=r.a,v=e.childNodes,w={};for(a=m;a--;)(c=(s=d[a]).l)&&(c=w[c]||(w[c]=[])).push({o:v[a],p:s});for(a=0;a<g;a++){do{s=d[$++]}while(s&&s.q);(c=w[(l=p[a]).l])&&(c=c.pop())?(h=c.o,u=c.p,h!=v[a]&&(u.q=1,s=u,e.insertBefore(h,v[a])),St(v[a],e,s,l,i,n,o,f)):s?w[s.l]&&b[s.l]?(m++,$--,i.c=1,e.insertBefore(At(l,e,i),v[a])):St(v[a],e,s,l,i,n,o,f):(e.appendChild(At(l,e,i)),i.c=1)}for(a=g;a<m;a++)$=v[g],It(n,$),e.removeChild($),i.c=1}else i.c=1,e.innerHTML=kt(r)},St=(e,t,r,i,n,o,a,l)=>{let c=r.i,h=i.i;if(((e,t,r)=>{let i,n,o=t.e,a=ht[o],s=r.i,l=0;if(a)for(i of a)n=D(s,i)?i!=g||s[i]:i==g&&f,e[i]!=n&&(l=1,e[i]=n);return l})(e,r,i)||D(c,"mxv")||xt(r)!=xt(i))if(r.e==i.e){if(r.e==ut)kt(r)!=kt(i)&&(n.c=1,e.nodeValue=wt(i.c));else if(!c[b]||c[b]!=h[b]){let t,f,u,$,d,p,m,g=h[A],b=kt(i),w=!h[v]||c[v]!=h[v],y=Ge[e.id],x=g&&ae(g);if(g&&y&&y.$n==x[T]&&($=y.$v)){if(p=b!=kt(r),m=g!=y[T],u=c.mxv,!p&&!m&&u){d=u.split(s);for(u of d)if(D(l,u)){m=1;break}}m||p?(u=$.$g)?(d=x[I],g.indexOf(k)>-1&&W(a,d),y[T]=g,x={node:i,html:b,deep:!$.$e,inner:p,query:m},w=1,F(u,[d,x],$)&&n.v.push($),t=x.deep):(f=1,t=1):w=1}else t=1,f=y;f&&(n.c=1,y.unmountVframe(0,1)),w&&Tt(e,r,i,n),!t||i.m&&r.m||qt(e,r,i,n,o,a,l)}}else It(o,e),t.replaceChild(At(i,t,n),e),n.c=1},Ht=function(e){this.$b=e,this.$c=1,this.$a={vId:e,[k]:1},this.$k={}};M(Ht[j],{get(e,t){return t=this.$a,e&&(t=t[e]),t},set(e){let t=this;return t.$c=C(e,t.$a,t.$k)||t.$c,t},digest(e){let t=this.set(e),r=t.$k,n=t.$c;t.$c=0,t.$k={},e=t.$a;let o,s,l=t.$b,c=Ge[l],h=c&&c.$v,$={d:[],v:[]},d=Z(l);if(n&&h&&h.$a>0&&(o=h.$e)){delete nt[l],delete ot[l],h.$vcr||(h.$vcr=jt),s=o.call(h,e,l),i(s)?s.e&&(s={b:[s]}):s=(e=>{let t,r,i,n,o,s,l,c,h,u,$,d=e.length,p=0,m=0,v={a:{},b:[],c:e},w=e,y=[v];for(;p<d&&(t=1,"<"==w[0]&&("/"==w[1]?(i=w.match(pt))&&(l=y.pop(),o=e.substring(l.d,p),"textarea"==l.e?(l.f.push({g:g,h:o}),l.i[g]=o,l.b=a):l.c=o,v=y[y.length-1],p+=s=i[0].length,l.j=e.substring(l.k,p),t=0):(i=w.match($t))&&(n=i[1],t=i[0],o=[],c={},$=f,i[2].replace(dt,(e,t,r)=>{r=r||f,"id"==t?$=r:t==A&&r&&!$?$=ae(r)[T]:t!=b||$||($=r),o.push({g:t,h:r}),c[t]=r}),u=i[3]||D(ct,n),l={j:t,l:$,e:n,f:o,i:c,b:[],a:{},k:p,d:p+=s=t.length},$&&(v.a[$]=1),v.b.push(l),u?l.m=1:(y.push(l),v=l),t=0)),t&&(p+=s=(h=(r=w.indexOf("<"))<0?w:w.substring(0,r)).length,l={e:ut,c:h,j:h},v.b.push(l)),m!=p);)w=w.substring(s),m=p;return v})(s),qt(d,t.$d,s,$,c,e,r),t.$d=s;for(s of $.d)s[0].id=s[1];for(s of $.v)s.$b();!$.c&&h.$f||h.endUpdate(l),$.c&&u.trigger({type:"htmlchanged",vId:l}),h.fire("domready")}return Promise.resolve()},snapshot(){return this.$e=x(this.$a),this},altered(){let e=this;if(e.$e)return e.$e!=x(e.$a)},translate(e){return W(this.$a,e,1)},parse(e){return he(e,this.$a)}});let Ot="default",Et="slot",Ut=/\s+slot(\s*=\s*"[^"]*")?/g,Zt={from(e){let t,r,i,n={},o=e.nodeType,f=o?e.childNodes:e.b;for(t of f)(o?t.nodeType==o&&t.hasAttribute(Et):D(t.i,Et))&&(i=1,n[r=(o?t.getAttribute(Et):t.i[Et])||Ot]=(o?t.outerHTML:t.j).replace(Ut,""));return i||(n[Ot]=(o?e.innerHTML:e.c).replace(Ut,"")),n}};ue.Slot=Zt;let Pt=/^(\$?)([^<]*)<([^>]+)>$/,Ct=(e,t,r)=>(e.a?r=e:((r=function(e){F(r.a,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r),Lt=(e,t)=>{let r,i,n=e.$r;for(r in n)i=n[r],(t||i.x)&&Mt(n,r,1)},Mt=(e,t,r,i)=>{let n,o,f=e[t];return f&&f!=i&&((n=(o=f.e).destroy)&&r&&F(n,a,o),delete e[t]),o},Nt=(e,t,r,i,n)=>{i=e[t],e[t]=e[r]=function(...e){(n=this).$a>0&&(n.$a++,n.fire("rendercall"),Lt(n),F(i,e,n))}},_t=(e,t)=>{let r,{$eo:i,$so:n,$el:o,id:f}=e;for(r in i)lt(r,n[r],t);for(r of o)re(r.e,r.n,te,t,{i:f,v:e,f:r.f,e:r.e})},zt=[],Bt={win:c,doc:h},Rt=(e,t,r)=>{let i,n,o,f,a={};for(n of e)for(i in n)o=n[i],f=a[i],"ctor"!=i?(Pt.test(i)&&(f?o=Ct(f,o):o.b=1),a[i]=o):r.push(o);for(i in a)D(t,i)||(t[i]=a[i])},Ft=e=>{if(!e[k]){e[k]=[];let t,r,i,n,o,f,a,l,c,h=e[j],u={},$=[],d={};(r=h.mixins)&&Rt(r,h,e[k]);for(a in h)if(t=h[a],r=a.match(Pt)){[,f,i,n]=r,n=n.split(s);for(l of n){if(o=Bt[i],c=1,f){if(o){$.push({f:t,e:o,n:l});continue}c=2,(o=d[l])||(o=d[l]={}),o[i]=1}u[l]=u[l]|c,(o=h[l=i+k+l])?o.b&&(t.b?h[l]=Ct(t,o):D(h,a)&&(h[l]=t)):h[l]=t}}Nt(h,"render","$b"),h.$eo=u,h.$el=$,h.$so=d,h.$e=h.tmpl,h.$g=h.assign}return e[k]},Dt=e=>{let t,r,i,n=e.$l;if(n.f&&(n.p&&(t=ye[T]),!t&&n.k)){i=ye[I];for(r of n.k)if(t=D(i,r))break}return t},Wt=function(e,t,r,i){(i=this).owner=t,i.id=e,i.$l={k:[]},i.$r={},i.$a=1,i.updater=i.$d=new Ht(i.id),F(zt,r,i)},Jt=Wt[j];M(Wt,{merge(...e){Rt(e,Jt,zt)},extend(e,t){let r=this,i=(e=e||{}).ctor,n=[];i&&n.push(i);let o=function(e,t,i,o){r.call(this,e,t,i),F(n.concat(o),i,this)};return o.extend=r.extend,X(o,r,e,t)}}),M(Jt,$e,{init:y,beginUpdate(e,t){(t=this).$a>0&&t.$f&&t.owner.unmountZone(e,1)},endUpdate(e,t,r,i,n){(r=this).$a>0&&(e=e||r.id,t?n=t:(n=r.$f,r.$f=1),(i=r.owner).mountZone(e,t),n||$(r.wrapAsync(Ke),0,i))},wrapAsync(e,t){let r=this,i=r.$a;return(...n)=>{if(i>0&&i==r.$a)return e.apply(t||r,n)}},observeLocation(e,t){let r;(r=this.$l).f=1,i(e)&&(t=e[T],e=e[I]),r.p=t,e&&(r.k=(e+f).split(s))},observeState(e){this.$os=(e+f).split(s)},capture(e,t,r,i){return i=this.$r,t?(Mt(i,e,1,t),i[e]={e:t,x:r}):t=(i=i[e])&&i.e,t},release(e,t){return Mt(this.$r,e,t)},leaveTip(e,t){let r=this,i=n=>{let o="a",f="b";n.type!=p&&(o="b",f="a"),i[o]?(n.prevent(),n.reject()):t()&&(n.prevent(),i[f]=1,r.leaveConfirm(()=>{i[f]=0,n.resolve()},()=>{i[f]=0,n.reject()},e))},n=r=>{t()&&(r.msg=e)};_e.on(p,i),_e.on(m,n),r.on("unload",i),r.on("destroy",()=>{_e.off(p,i),_e.off(m,n)})},render:y}),ue.View=Wt;let Qt=e.type,Gt=e.now||Date.now,Kt=function(){this.id=O("b"),this.$={}};M(Kt[j],{get(e,t,r){let i,o=t!=r,a=this.$;if(e){let t,i=n(e)?e.slice():(e+f).split(".");for(;(t=i.shift())&&a;)a=a[t];t&&(a=r)}return o&&(i=Qt(t))!=Qt(a)&&(a=t),a},set(e,t){i(e)||(e={[e]:t}),M(this.$,e)}});let Xt=function(e,t,r){(r=this[e])&&(delete this[e],F(r,t,r.e))},Yt=(e,t,r,i,n,o)=>{let f=[],a=l,s=0;return function(c,h){let u,$=this;s++;let d=$.$b,p=d.k;f[c+1]=$;let m,g={bag:$,error:h};if(h?(a=h,t.fire("fail",g),u=1):o.has(p)||(p&&o.set(p,$),d.t=Gt(),(m=d.a)&&F(m,$,$),(m=d.x)&&t.clear(m),t.fire("done",g),u=1),!r.$d){let t=s==i;t&&(r.$e=0,2==n&&(f[0]=a,F(e,f,r))),1==n&&F(e,[h||l,$,t,c],r)}u&&t.fire("end",g)}},er=(e,t,r,i,o)=>{if(e.$d)return e;if(e.$e)return e.enqueue(er.bind(e,e,t,r,i,o));e.$e=1,n(t)||(t=[t]);let f=e.constructor,a=0,s=f.$f,l=Yt(r,f,e,t.length,i,f.$c);for(let e of t)if(e){let t,r=f.get(e,o),i=r.e,n=i.$b.k,c=l.bind(i,a++);n&&s[n]?s[n].push(c):r.u?(n&&((t=[c]).e=i,s[n]=t,c=Xt.bind(s,n)),f.$s(i,c)):c()}return e},tr=function(){let e=this;e.id=O("s"),e.$g=[]};M(tr[j],{all(e,t){return er(this,e,t,2)},save(e,t){return er(this,e,t,2,1)},one(e,t){return er(this,e,t,1)},enqueue(e){let t=this;return t.$d||(t.$g.push(e),t.dequeue(t.$h)),t},dequeue(...e){let t,r=this;r.$e||r.$d||(r.$e=1,$(()=>{r.$e=0,r.$d||(t=r.$g.shift())&&F(t,r.$h=e)},0))},destroy(e){(e=this).$d=1,e.$g=0}});let rr=(e,t)=>[x(t),x(e)].join(k),ir=(e,t,r,i)=>{(i=e&&e.$b)&&t[i.n]&&r.del(i.k)},nr={add(e){let t,r=this.$b;n(e)||(e=[e]);for(t of e)if(t){let{name:e,cache:i}=t;t.cache=0|i,r[e]=t}},create(e){let t=this.meta(e),r=0|e.cache||t.cache,n=new Kt;n.set(t),n.$b={n:t.name,a:t.after,x:t.cleans,k:r&&rr(t,e)},i(e)&&n.set(e);let o=t.before;return o&&F(o,n,n),this.fire("begin",{bag:n}),n},meta(e){return this.$b[e.name||e]||e},get(e,t){let r,i,n=this;return t||(r=n.cached(e)),r||(r=n.create(e),i=1),{e:r,u:i}},clear(e){this.$c.each(ir,le((e+f).split(s)))},cached(e){let t,r,i=this,n=i.$c,o=i.meta(e),f=0|e.cache||o.cache;if(f&&(r=rr(o,e)),r){let e=i.$f[r];e?t=e.e:(t=n.get(r))&&Gt()-t.$b.t>f&&(n.del(r),t=0)}return t},...$e};return tr.extend=((e,t,r)=>{let i=function(){tr.call(this)};return i.$s=e,i.$c=new Q(t,r),i.$f={},i.$b={},X(i,tr,l,nr)}),ue.Service=tr,M(y[j],$e),y.extend=function e(t,r){let i=this,n=t&&t.ctor,o=function(...e){i.apply(this,e),n&&n.apply(this,e)};return o.extend=e,X(o,i,t,r)},ue.Base=y,ue});